<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-06-25T22:48:43.0438889"><title>Coding Session 0 | OCA Progress Docs</title><script type="application/json" id="virtual-toc-data">[{"id":"objective-list","level":0,"title":"Objective List","anchor":"#objective-list"},{"id":"sviluppo","level":0,"title":"Sviluppo","anchor":"#sviluppo"},{"id":"note","level":0,"title":"Note","anchor":"#note"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Coding Session 0 | OCA Progress Docs"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="OCA Progress Docs Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/oca-coding-session.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Coding Session 0 | OCA Progress Docs"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/oca-coding-session.html#webpage",
    "url": "writerside-documentation/oca-coding-session.html",
    "name": "Coding Session 0 | OCA Progress Docs",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "OCA Progress Docs Help"
}</script><!-- End Schema.org --></head><body data-id="OCA-Coding-Session" data-main-title="Coding Session 0" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Coding-Sessions.md|Coding Sessions"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>OCA Progress Docs  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="OCA-Coding-Session" id="OCA-Coding-Session.md">Coding Session 0</h1><aside class="prompt" data-type="note" data-title="" id="m51tiq_7807"><p id="m51tiq_7808">Session del 25/06/2024 - 18:05</p></aside><aside class="prompt" data-type="tip" data-title="" id="m51tiq_7809"><p id="m51tiq_7810">Commit: <a href="https://github.com/borghes3/oca/commit/524db4732288449db3306e6449cd8801871b9608" id="m51tiq_7811" data-external="true" rel="noopener noreferrer">@borghes3/oca/524db47</a></p></aside><section class="chapter"><h2 id="objective-list" data-toc="objective-list">Objective List</h2><ul class="list _bullet" id="m51tiq_7812"><li class="list__item" id="m51tiq_7813"><p>Creare il progetto NextJS</p></li><li class="list__item" id="m51tiq_7814"><p>Comprendere l'implementazione di IPFS tramite Helia</p></li></ul></section><section class="chapter"><h2 id="sviluppo" data-toc="sviluppo">Sviluppo</h2><section class="chapter"><h3 id="progetto-nextjs" data-toc="progetto-nextjs">Progetto NextJS</h3><p id="m51tiq_7815">Creato il progetto di base di NextJS tramite <code class="code" id="m51tiq_7816">npx create-next-app</code>. <br></p></section><section class="chapter"><h3 id="lettura-docs" data-toc="lettura-docs">Lettura docs</h3><p id="m51tiq_7818">Ho iniziato con una lettura rapida delle <a href="https://docs.ipfs.tech/concepts/what-is-ipfs/#defining-ipfs" id="m51tiq_7819" data-external="true" rel="noopener noreferrer">Basics di IPFS</a>, il loro sito propone alcune idee interessanti per l'applicazione di IPFS, che si propone pi&ugrave; come un <span class="control" id="m51tiq_7820">protocollo</span> che come un servizio di cloud data hosting. <br> Successivamente si passa alla documentazione (molto scarsa) di Helia, praticamente <span class="emphasis" id="m51tiq_7822">useless</span>. <br> Ho trovato in compenso una serie di esempi di utilizzo di Helia tra cui <a href="https://github.com/ipfs-examples/helia-examples/tree/main/examples/helia-nextjs" id="m51tiq_7824" data-external="true" rel="noopener noreferrer">Helia with NextJS</a>. <br></p><section class="chapter"><h4 id="riferimento-a-pump-fun" data-toc="riferimento-a-pump-fun">Riferimento a Pump.fun</h4><p id="m51tiq_7826">Ho scoperto che potrei usare in maniera molto pi&ugrave; semplice un servizio di IPFS chiamato <a href="https://pinata.cloud" id="m51tiq_7827" data-external="true" rel="noopener noreferrer">Pinata</a>, <span class="control" id="m51tiq_7828">lo stesso utilizzato da pump.fun</span>, ma costituirebbe un costo per l'applicazione, concetto che va contro quello di questo progetto, <span class="control" id="m51tiq_7829">dobbiamo decentralizzare</span>. <br></p></section></section><section class="chapter"><h3 id="esempio-helia-nextjs" data-toc="esempio-helia-nextjs">Esempio Helia-NextJS</h3><p id="m51tiq_7831">Analizzando il progetto di esempio trovato sulla repo di Helia non emerge molto se non un component React molto semplice ma molto utile, il file in questione &egrave; <code class="code" id="m51tiq_7832"><a href="https://github.com/ipfs-examples/helia-examples/blob/main/examples/helia-nextjs/components/ipfs.js" id="m51tiq_7833" data-external="true" rel="noopener noreferrer">ipfs.js</a></code>. Di seguito un copia incolla per non averlo su github in caso di modifiche, ad oggi risulta:</p><div class="code-block" data-lang="ts">
import { createHelia } from 'helia'
import { React, useState, useEffect } from 'react'

const IpfsComponent = () =&gt; {
    const [id, setId] = useState(null)
    const [helia, setHelia] = useState(null)
    const [isOnline, setIsOnline] = useState(false)

    useEffect(() =&gt; {
        const init = async () =&gt; {
            if (helia) return
            const heliaNode = await createHelia()
            const nodeId = heliaNode.libp2p.peerId.toString()
            const nodeIsOnline = heliaNode.libp2p.status === 'started'
            setHelia(heliaNode)
            setId(nodeId)
            setIsOnline(nodeIsOnline)
        }
        init()
    }, [helia])

    if (!helia || !id) {
        return (&lt;h4&gt;Starting Helia...&lt;/h4&gt;)
    }

    return (
        &lt;div&gt;
            &lt;h4 data-test=&quot;id&quot;&gt;ID: {id.toString()}&lt;/h4&gt;
            &lt;h4 data-test=&quot;status&quot;&gt;Status: {isOnline ? 'Online' : 'Offline'}&lt;/h4&gt;
        &lt;/div&gt;
    )
}
export default IpfsComponent
</div><p id="m51tiq_7835">i cui punti chiave risultano:</p><ul class="list _bullet" id="m51tiq_7836"><li class="list__item" id="m51tiq_7837"><p><code class="code" id="m51tiq_7838"><a href="https://helia.io/functions/helia.createHelia.html" id="m51tiq_7839" data-external="true" rel="noopener noreferrer">createHelia()</a></code> crea e ritorna un nuovo <span class="emphasis" id="m51tiq_7840">nodo</span> Helia</p></li><li class="list__item" id="m51tiq_7841"><p>Il valore ritornato dal punto precedente &egrave; un <code class="code" id="m51tiq_7842"><a href="https://helia.io/interfaces/helia.HeliaLibp2p.html#:~:text=HeliaheliaHeliaLibp2p-,Interface%20HeliaLibp2p%3CT%3E,-The%20API%20presented" id="m51tiq_7843" data-external="true" rel="noopener noreferrer">Interface HeliaLibp2p</a></code></p></li><li class="list__item" id="m51tiq_7844"><p><code class="code" id="m51tiq_7845">nodeId</code> prende l'ID del nodo dalla propriet&agrave; <code class="code" id="m51tiq_7846">libp2p.peerId</code> del punto precedente convertendolo in stringa</p></li><li class="list__item" id="m51tiq_7847"><p><code class="code" id="m51tiq_7848">nodeIsOnline</code> prende lo stato del nodo verificando che <code class="code" id="m51tiq_7849">libp2p.status === 'started'</code> (occhio al tipo, triplo uguale)</p></li><li class="list__item" id="m51tiq_7850"><p>Il resto &egrave; semplicissimo react con <code class="code" id="m51tiq_7851">useState()</code> e <code class="code" id="m51tiq_7852">useEffect()</code>, nulla di nuovo</p></li></ul></section><section class="chapter"><h3 id="riflessioni-su-helia-e-ipfs-in-generale" data-toc="riflessioni-su-helia-e-ipfs-in-generale">Riflessioni su Helia e IPFS in generale</h3><p id="m51tiq_7853">Si pu&ograve; concludere in via generale che Helia, non si pone come un &quot;provider&quot; o &quot;gateway&quot; per interagire con IPFS, ma come da documentazione IPFS <span class="emphasis" id="m51tiq_7854">(IPFS &egrave; da intendersi come un protocollo)</span> &egrave; semplicemente un set di strumenti che <span class="control" id="m51tiq_7855">rispetta le regole di IPFS</span> e di conseguenza una valida alternativa per interagirci tramite un API con Javascript/Typescript.</p></section></section><section class="chapter"><h2 id="note" data-toc="note">Note</h2><p id="m51tiq_7856">Nessuna</p></section><div class="last-modified">Last modified: 25 giugno 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="coding-sessions.html" class="navigation-links__prev">Coding Sessions</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.js"></script></body></html>